/* eslint-disable */"use strict";$(document).ready(function(){$(".original__main-all").on("click",".member__delete",function(n){if(!confirm("是否要刪除？"))return!1;var a=$(n.target).attr("data-id");return $.ajax({url:"./handle_delete.php?id=".concat(a),success:function(a){var e=JSON.parse(a);"true"===e.success?n.target.closest(".original__sub-comment")?$(n.target.closest(".original__sub-comment")).fadeOut(500):n.target.closest(".original__board")&&$(n.target.closest(".original__board")).fadeOut(500):alert(e.success)}}),!1}),$(".board").on("submit","form",function(t){if(""!==$(t.target.closest("form")).find("textarea").val())return $.ajax({type:"POST",url:"./handle_add.php",data:$(t.target.closest("form")).serialize(),dataType:"json",success:function(a){if(a.id){if(t.target.closest(".original__board")){var e="\n            <div class='original__sub-comment ".concat(a.is_main,"'>\n              <div class='original__nickname'>").concat(a.nickname,"\n                <div class='member__interface'>\n                  <a class='member__edit' href='./update.php?id=").concat(a.id,"' data-id='").concat(a.id,"'>編輯</a>\n                  <a class='member__delete' href='' data-id=").concat(a.id,">刪除</a>\n                </div>\n              </div>\n              <pre class='original__comment'>").concat(a.comment,"</pre>\n              <div class='original__createdAt'>").concat(a.created_at,"</div>\n            </div>");return $(t.target.closest(".original__board")).find(".original__sub-all").prepend($(e).hide().fadeIn(500)),$(t.target.closest("form")).find("textarea").val(""),!1}if(t.target.closest(".board")){if(location.search&&"?page=1"!==location.search)return alert("留言已送出，請到首頁或管理界面觀看留言"),!1;var n="\n            <div class='original__board'>\n              <div class='original__main original__main-bgcolor'>\n                <div class='original__nickname'>".concat(a.nickname,"\n                  <div class='member__interface'>\n                    <a class='member__edit' href='./update.php?id=").concat(a.id,"' data-id='").concat(a.id,"'>編輯</a>\n                    <a class='member__delete' href='' data-id=").concat(a.id,">刪除</a>\n                  </div>\n                </div>\n                <pre class='original__comment'>").concat(a.comment,"</pre>\n                <div class='original__createdAt'>").concat(a.created_at,"</div>\n              </div>\n              <form action='./handle_add.php' method='post' class='original__sub-add new'>\n                <div class='original__nickname'>暱稱：").concat(a.session.login_nickname,"</div>\n                <input type='hidden' name='user_id' value='").concat(a.session.login_id,"' />\n                <div class='new__comment'><textarea name='comment' rows='3' placeholder='請輸入留言'></textarea></div>\n                <input type='hidden' name='parent_id' value='").concat(a.id,"' />\n                <div class='new__btn'><input type='submit' value='送出留言' /></div>\n              </form>\n              <div class='original__sub-all'></div>\n            </div>");return $(t.target.closest(".board")).find(".original__main-all").prepend($(n).hide().fadeIn(500)),$(t.target.closest("form")).find("textarea").val(""),!1}}else alert(a.success);return!1}}),!1;var a=$(t.target.closest("form")).find("textarea");a.attr("placeholder","內容不可以為空");for(var e=0;e<=5;e+=1)a.animate({"margin-left":"-10px"},50).animate({"margin-left":"10px"},50);return a.animate({"margin-left":"0px"},50),!1})});